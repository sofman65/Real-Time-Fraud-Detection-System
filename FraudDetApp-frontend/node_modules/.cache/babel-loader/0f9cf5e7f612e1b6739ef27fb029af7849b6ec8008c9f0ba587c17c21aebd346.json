{"ast":null,"code":"var _jsxFileName = \"/Users/lsofianos/Documents/proj-FraudDetApp/FraudDetApp-frontend/src/components/RealTimePrediction.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport { Card, CardBody, CardFooter, Typography, Button } from \"@material-tailwind/react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RealTimePrediction = () => {\n  _s();\n  const [predictions, setPredictions] = useState(null);\n  const [transaction, setTransaction] = useState(null);\n  useEffect(() => {\n    const socket = new WebSocket(\"ws://localhost:8000/ws/fraud_detection/\");\n    socket.onmessage = event => {\n      const data = JSON.parse(event.data);\n      if (data.predictions) {\n        setPredictions(data.predictions);\n        setTransaction(data.transaction);\n      } else if (data.error) {\n        console.error(\"Error:\", data.error);\n      }\n    };\n    return () => {\n      if (socket.readyState === 1) {\n        socket.close();\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen\",\n    children: transaction && predictions ? /*#__PURE__*/_jsxDEV(Card, {\n      className: \"w-full max-w-[800px]\",\n      children: [/*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          className: \"mb-2 text-blue-700\",\n          children: \"Real-Time Fraud Prediction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Transaction ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this), \" \", transaction.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Amount:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this), \" $\", transaction.amount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Time:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this), \" \", transaction.time]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: /*#__PURE__*/_jsxDEV(Line, {\n            data: {\n              labels: [\"Logistic\", \"Random Forest\", \"XGBoost\"],\n              datasets: [{\n                label: \"Fraud Prediction (0 = No Fraud, 1 = Fraud)\",\n                data: [predictions.logistic, predictions.random_forest, predictions.xgboost],\n                backgroundColor: [\"rgba(75, 192, 192, 0.2)\", \"rgba(255, 159, 64, 0.2)\", \"rgba(153, 102, 255, 0.2)\"],\n                borderColor: [\"rgba(75, 192, 192, 1)\", \"rgba(255, 159, 64, 1)\", \"rgba(153, 102, 255, 1)\"],\n                borderWidth: 2\n              }]\n            },\n            options: {\n              scales: {\n                y: {\n                  beginAtZero: true,\n                  ticks: {\n                    stepSize: 1\n                  }\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"gradient\",\n          className: \"bg-blue-500 text-white w-full\",\n          onClick: () => window.location.reload(),\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Card, {\n      className: \"w-full max-w-[800px]\",\n      children: /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          className: \"mb-2 text-blue-700\",\n          children: \"Waiting for Predictions...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          className: \"mb-4\",\n          children: \"Waiting for new transaction data to predict fraud...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(RealTimePrediction, \"dmWNuNVHHoARMdb9AvfTfqGCa28=\");\n_c = RealTimePrediction;\nexport default RealTimePrediction;\nvar _c;\n$RefreshReg$(_c, \"RealTimePrediction\");","map":{"version":3,"names":["React","useEffect","useState","Line","Card","CardBody","CardFooter","Typography","Button","jsxDEV","_jsxDEV","RealTimePrediction","_s","predictions","setPredictions","transaction","setTransaction","socket","WebSocket","onmessage","event","data","JSON","parse","error","console","readyState","close","className","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","id","amount","time","labels","datasets","label","logistic","random_forest","xgboost","backgroundColor","borderColor","borderWidth","options","scales","y","beginAtZero","ticks","stepSize","onClick","window","location","reload","_c","$RefreshReg$"],"sources":["/Users/lsofianos/Documents/proj-FraudDetApp/FraudDetApp-frontend/src/components/RealTimePrediction.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport {\n    Card,\n    CardBody,\n    CardFooter,\n    Typography,\n    Button,\n} from \"@material-tailwind/react\";\n\ninterface Transaction {\n    id: string;\n    amount: number;\n    time: string;\n}\n\ninterface Predictions {\n    logistic: number;\n    random_forest: number;\n    xgboost: number;\n}\n\nconst RealTimePrediction: React.FC = () => {\n    const [predictions, setPredictions] = useState<Predictions | null>(null);\n    const [transaction, setTransaction] = useState<Transaction | null>(null);\n\n    useEffect(() => {\n        const socket = new WebSocket(\"ws://localhost:8000/ws/fraud_detection/\");\n\n        socket.onmessage = (event) => {\n            const data = JSON.parse(event.data);\n            if (data.predictions) {\n                setPredictions(data.predictions);\n                setTransaction(data.transaction);\n            } else if (data.error) {\n                console.error(\"Error:\", data.error);\n            }\n        };\n\n        return () => {\n            if (socket.readyState === 1) {\n                socket.close();\n            }\n        };\n    }, []);\n\n    return (\n        <div className=\"flex justify-center items-center h-screen\">\n            {transaction && predictions ? (\n                <Card className=\"w-full max-w-[800px]\">\n                    <CardBody>\n                        <Typography variant=\"h5\" className=\"mb-2 text-blue-700\">\n                            Real-Time Fraud Prediction\n                        </Typography>\n                        <Typography className=\"mb-4\">\n                            <strong>Transaction ID:</strong> {transaction.id}\n                        </Typography>\n                        <Typography className=\"mb-4\">\n                            <strong>Amount:</strong> ${transaction.amount}\n                        </Typography>\n                        <Typography className=\"mb-4\">\n                            <strong>Time:</strong> {transaction.time}\n                        </Typography>\n\n                        <div className=\"mb-6\">\n                            <Line\n                                data={{\n                                    labels: [\"Logistic\", \"Random Forest\", \"XGBoost\"],\n                                    datasets: [\n                                        {\n                                            label: \"Fraud Prediction (0 = No Fraud, 1 = Fraud)\",\n                                            data: [\n                                                predictions.logistic,\n                                                predictions.random_forest,\n                                                predictions.xgboost,\n                                            ],\n                                            backgroundColor: [\n                                                \"rgba(75, 192, 192, 0.2)\",\n                                                \"rgba(255, 159, 64, 0.2)\",\n                                                \"rgba(153, 102, 255, 0.2)\",\n                                            ],\n                                            borderColor: [\n                                                \"rgba(75, 192, 192, 1)\",\n                                                \"rgba(255, 159, 64, 1)\",\n                                                \"rgba(153, 102, 255, 1)\",\n                                            ],\n                                            borderWidth: 2,\n                                        },\n                                    ],\n                                }}\n                                options={{\n                                    scales: {\n                                        y: {\n                                            beginAtZero: true,\n                                            ticks: {\n                                                stepSize: 1,\n                                            },\n                                        },\n                                    },\n                                }}\n                            />\n                        </div>\n                    </CardBody>\n                    <CardFooter>\n                        <Button\n                            variant=\"gradient\"\n                            className=\"bg-blue-500 text-white w-full\"\n                            onClick={() => window.location.reload()}\n                        >\n                            Refresh\n                        </Button>\n                    </CardFooter>\n                </Card>\n            ) : (\n                <Card className=\"w-full max-w-[800px]\">\n                    <CardBody>\n                        <Typography variant=\"h5\" className=\"mb-2 text-blue-700\">\n                            Waiting for Predictions...\n                        </Typography>\n                        <Typography className=\"mb-4\">\n                            Waiting for new transaction data to predict fraud...\n                        </Typography>\n                    </CardBody>\n                </Card>\n            )}\n        </div>\n    );\n};\n\nexport default RealTimePrediction;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
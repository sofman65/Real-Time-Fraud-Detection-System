{"ast":null,"code":"var _jsxFileName = \"/Users/lsofianos/Documents/proj-FraudDetApp/FraudDetApp-frontend/src/components/RealTimeChart.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { Chart, registerables } from 'chart.js';\nimport 'chartjs-adapter-date-fns';\nimport { Card, CardBody, CardFooter, Typography, Button } from '@material-tailwind/react';\n\n// Register the necessary components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(...registerables);\nconst fetchNewData = async () => {\n  const response = await fetch('/api/new-data');\n  const data = await response.json();\n  return data;\n};\nconst RealTimeChart = ({\n  predictions,\n  transactions\n}) => {\n  _s();\n  const [currentPredictions, setCurrentPredictions] = useState(predictions);\n  const [currentTransactions, setCurrentTransactions] = useState(transactions);\n  const [fraudDetected, setFraudDetected] = useState({\n    logistic: false,\n    random_forest: false,\n    xgboost: false\n  });\n  useEffect(() => {\n    const interval = setInterval(() => {\n      fetchNewData().then(newData => {\n        setCurrentPredictions(newData.predictions);\n        setCurrentTransactions(newData.transactions);\n\n        // Check for fraud detection\n        const latestPrediction = newData.predictions[newData.predictions.length - 1];\n        setFraudDetected({\n          logistic: latestPrediction.logistic > 0.5,\n          random_forest: latestPrediction.random_forest > 0.5,\n          xgboost: latestPrediction.xgboost > 0.5\n        });\n      });\n    }, 5000); // Fetch new data every 5 seconds\n\n    return () => clearInterval(interval);\n  }, []);\n  const timeLabels = currentTransactions.map(t => new Date(t.Time * 1000).toLocaleTimeString());\n  const data = {\n    labels: timeLabels,\n    datasets: [{\n      label: 'Transaction Amount',\n      data: currentTransactions.map(t => t.Amount),\n      borderColor: 'rgba(54, 162, 235, 1)',\n      backgroundColor: 'rgba(54, 162, 235, 0.2)',\n      fill: false,\n      yAxisID: 'y1' // Link to a second y-axis\n    }, {\n      label: 'Logistic Regression',\n      data: currentPredictions.map(p => p.logistic),\n      borderColor: 'rgba(75, 192, 192, 1)',\n      backgroundColor: 'rgba(75, 192, 192, 0.2)',\n      fill: false,\n      yAxisID: 'y2' // Link to first y-axis\n    }, {\n      label: 'Random Forest',\n      data: currentPredictions.map(p => p.random_forest),\n      borderColor: 'rgba(153, 102, 255, 1)',\n      backgroundColor: 'rgba(153, 102, 255, 0.2)',\n      fill: false,\n      yAxisID: 'y2'\n    }, {\n      label: 'XGBoost',\n      data: currentPredictions.map(p => p.xgboost),\n      borderColor: 'rgba(255, 159, 64, 1)',\n      backgroundColor: 'rgba(255, 159, 64, 0.2)',\n      fill: false,\n      yAxisID: 'y2'\n    }]\n  };\n  const options = {\n    scales: {\n      x: {\n        type: 'time',\n        time: {\n          unit: 'minute'\n        }\n      },\n      y1: {\n        type: 'linear',\n        position: 'left',\n        beginAtZero: true,\n        title: {\n          display: true,\n          text: 'Transaction Amount'\n        }\n      },\n      y2: {\n        type: 'linear',\n        position: 'right',\n        beginAtZero: true,\n        max: 1,\n        title: {\n          display: true,\n          text: 'Fraud Predictions'\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    placeholder: true,\n    className: \"w-full h-full\",\n    children: [/*#__PURE__*/_jsxDEV(CardBody, {\n      placeholder: true,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        placeholder: true,\n        variant: \"h5\",\n        color: \"blue-gray\",\n        className: \"mb-2\",\n        children: \"Real-Time Fraud Detection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Line, {\n        data: data,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), fraudDetected.logistic && /*#__PURE__*/_jsxDEV(Typography, {\n        placeholder: true,\n        color: \"red\",\n        children: \"Logistic Regression: Fraud Detected!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 44\n      }, this), fraudDetected.random_forest && /*#__PURE__*/_jsxDEV(Typography, {\n        placeholder: true,\n        color: \"red\",\n        children: \"Random Forest: Fraud Detected!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 49\n      }, this), fraudDetected.xgboost && /*#__PURE__*/_jsxDEV(Typography, {\n        placeholder: true,\n        color: \"red\",\n        children: \"XGBoost: Fraud Detected!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 43\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n      placeholder: true,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        placeholder: true,\n        color: \"blue\",\n        onClick: () => window.location.reload(),\n        children: \"Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 9\n  }, this);\n};\n_s(RealTimeChart, \"5yfnT7nxLMitHlTgclYTRIjcoZA=\");\n_c = RealTimeChart;\nexport default RealTimeChart;\nvar _c;\n$RefreshReg$(_c, \"RealTimeChart\");","map":{"version":3,"names":["React","useState","useEffect","Line","Chart","registerables","Card","CardBody","CardFooter","Typography","Button","jsxDEV","_jsxDEV","register","fetchNewData","response","fetch","data","json","RealTimeChart","predictions","transactions","_s","currentPredictions","setCurrentPredictions","currentTransactions","setCurrentTransactions","fraudDetected","setFraudDetected","logistic","random_forest","xgboost","interval","setInterval","then","newData","latestPrediction","length","clearInterval","timeLabels","map","t","Date","Time","toLocaleTimeString","labels","datasets","label","Amount","borderColor","backgroundColor","fill","yAxisID","p","options","scales","x","type","time","unit","y1","position","beginAtZero","title","display","text","y2","max","placeholder","className","children","variant","color","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","location","reload","_c","$RefreshReg$"],"sources":["/Users/lsofianos/Documents/proj-FraudDetApp/FraudDetApp-frontend/src/components/RealTimeChart.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { Chart, registerables, ChartOptions } from 'chart.js';\nimport 'chartjs-adapter-date-fns';\nimport { Card, CardBody, CardFooter, Typography, Button } from '@material-tailwind/react';\n\n// Register the necessary components\nChart.register(...registerables);\n\ninterface Prediction {\n    logistic: number;\n    random_forest: number;\n    xgboost: number;\n}\n\ninterface Transaction {\n    Time: number;\n    Amount: number;\n    V1: number;\n    V2: number;\n    V3: number;\n    V4: number;\n    V5: number;\n    V6: number;\n    V7: number;\n    V8: number;\n    V9: number;\n    V10: number;\n    V11: number;\n    V12: number;\n    V13: number;\n    V14: number;\n    V15: number;\n    V16: number;\n    V17: number;\n    V18: number;\n    V19: number;\n    V20: number;\n    V21: number;\n    V22: number;\n    V23: number;\n    V24: number;\n    V25: number;\n    V26: number;\n    V27: number;\n    V28: number;\n    Class?: number;  // The actual fraud label, if present in your data\n}\n\ninterface RealTimeChartProps {\n    predictions: Prediction[];\n    transactions: Transaction[];\n}\n\nconst fetchNewData = async () => {\n    const response = await fetch('/api/new-data');\n    const data = await response.json();\n    return data;\n};\n\nconst RealTimeChart: React.FC<RealTimeChartProps> = ({ predictions, transactions }) => {\n    const [currentPredictions, setCurrentPredictions] = useState<Prediction[]>(predictions);\n    const [currentTransactions, setCurrentTransactions] = useState<Transaction[]>(transactions);\n    const [fraudDetected, setFraudDetected] = useState<{ logistic: boolean, random_forest: boolean, xgboost: boolean }>({ logistic: false, random_forest: false, xgboost: false });\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            fetchNewData().then(newData => {\n                setCurrentPredictions(newData.predictions);\n                setCurrentTransactions(newData.transactions);\n\n                // Check for fraud detection\n                const latestPrediction = newData.predictions[newData.predictions.length - 1];\n                setFraudDetected({\n                    logistic: latestPrediction.logistic > 0.5,\n                    random_forest: latestPrediction.random_forest > 0.5,\n                    xgboost: latestPrediction.xgboost > 0.5,\n                });\n            });\n        }, 5000); // Fetch new data every 5 seconds\n\n        return () => clearInterval(interval);\n    }, []);\n\n    const timeLabels = currentTransactions.map(t => new Date(t.Time * 1000).toLocaleTimeString());\n\n    const data = {\n        labels: timeLabels,\n        datasets: [\n            {\n                label: 'Transaction Amount',\n                data: currentTransactions.map(t => t.Amount),\n                borderColor: 'rgba(54, 162, 235, 1)',\n                backgroundColor: 'rgba(54, 162, 235, 0.2)',\n                fill: false,\n                yAxisID: 'y1',  // Link to a second y-axis\n            },\n            {\n                label: 'Logistic Regression',\n                data: currentPredictions.map(p => p.logistic),\n                borderColor: 'rgba(75, 192, 192, 1)',\n                backgroundColor: 'rgba(75, 192, 192, 0.2)',\n                fill: false,\n                yAxisID: 'y2',  // Link to first y-axis\n            },\n            {\n                label: 'Random Forest',\n                data: currentPredictions.map(p => p.random_forest),\n                borderColor: 'rgba(153, 102, 255, 1)',\n                backgroundColor: 'rgba(153, 102, 255, 0.2)',\n                fill: false,\n                yAxisID: 'y2',\n            },\n            {\n                label: 'XGBoost',\n                data: currentPredictions.map(p => p.xgboost),\n                borderColor: 'rgba(255, 159, 64, 1)',\n                backgroundColor: 'rgba(255, 159, 64, 0.2)',\n                fill: false,\n                yAxisID: 'y2',\n            },\n        ],\n    };\n\n    const options: ChartOptions<'line'> = {\n        scales: {\n            x: {\n                type: 'time',\n                time: {\n                    unit: 'minute',\n                },\n            },\n            y1: {\n                type: 'linear',\n                position: 'left',\n                beginAtZero: true,\n                title: {\n                    display: true,\n                    text: 'Transaction Amount',\n                },\n            },\n            y2: {\n                type: 'linear',\n                position: 'right',\n                beginAtZero: true,\n                max: 1,\n                title: {\n                    display: true,\n                    text: 'Fraud Predictions',\n                },\n            },\n        },\n    };\n\n    return (\n        <Card placeholder={true} className=\"w-full h-full\">\n            <CardBody placeholder={true}>\n                <Typography placeholder={true} variant=\"h5\" color=\"blue-gray\" className=\"mb-2\">\n                    Real-Time Fraud Detection\n                </Typography>\n                <Line data={data} options={options} />\n                {fraudDetected.logistic && <Typography placeholder={true} color=\"red\">Logistic Regression: Fraud Detected!</Typography>}\n                {fraudDetected.random_forest && <Typography placeholder={true} color=\"red\">Random Forest: Fraud Detected!</Typography>}\n                {fraudDetected.xgboost && <Typography placeholder={true} color=\"red\">XGBoost: Fraud Detected!</Typography>}\n            </CardBody>\n            <CardFooter placeholder={true}>\n                <Button placeholder={true} color=\"blue\" onClick={() => window.location.reload()}>\n                    Refresh\n                </Button>\n            </CardFooter>\n        </Card>\n    );\n};\n\nexport default RealTimeChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
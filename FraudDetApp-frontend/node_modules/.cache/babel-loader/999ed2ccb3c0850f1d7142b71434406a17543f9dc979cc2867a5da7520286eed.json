{"ast":null,"code":"var _jsxFileName = \"/Users/lsofianos/Documents/proj-FraudDetApp/FraudDetApp-frontend/src/components/RealTimePrediction.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RealTimePrediction = () => {\n  _s();\n  const [predictions, setPredictions] = useState(null);\n  const [transaction, setTransaction] = useState(null);\n  useEffect(() => {\n    const socket = new WebSocket(\"ws://localhost:8000/ws/fraud_detection/\");\n    socket.onopen = event => {\n      console.log(\"WebSocket connection opened\", event);\n    };\n    socket.onmessage = event => {\n      console.log(\"WebSocket message received\", event.data);\n      const data = JSON.parse(event.data);\n      if (data.predictions) {\n        setPredictions(data.predictions);\n        setTransaction(data.transaction);\n      }\n    };\n    return () => {\n      socket.close();\n    };\n  }, []);\n  if (!predictions || !transaction) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Waiting for predictions...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Real-Time Fraud Detection\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Transaction Details:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Amount: $\", transaction.amount.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Time: \", new Date(transaction.time * 1000).toLocaleTimeString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Predictions:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Logistic Regression: \", predictions.logistic === 1 ? 'Fraud' : 'Not Fraud']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Random Forest: \", predictions.random_forest === 1 ? 'Fraud' : 'Not Fraud']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"XGBoost: \", predictions.xgboost === 1 ? 'Fraud' : 'Not Fraud']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(RealTimePrediction, \"dmWNuNVHHoARMdb9AvfTfqGCa28=\");\n_c = RealTimePrediction;\nexport default RealTimePrediction;\nvar _c;\n$RefreshReg$(_c, \"RealTimePrediction\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","RealTimePrediction","_s","predictions","setPredictions","transaction","setTransaction","socket","WebSocket","onopen","event","console","log","onmessage","data","JSON","parse","close","children","fileName","_jsxFileName","lineNumber","columnNumber","amount","toFixed","Date","time","toLocaleTimeString","logistic","random_forest","xgboost","_c","$RefreshReg$"],"sources":["/Users/lsofianos/Documents/proj-FraudDetApp/FraudDetApp-frontend/src/components/RealTimePrediction.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Line } from \"react-chartjs-2\";\nimport {\n    Card,\n    CardBody,\n    CardFooter,\n    Typography,\n    Button,\n} from \"@material-tailwind/react\";\n\ninterface Prediction {\n    logistic: number;\n    random_forest: number;\n    xgboost: number;\n}\n\ninterface Transaction {\n    amount: number;\n    time: number;\n    // Add other transaction fields as needed\n}\n\nconst RealTimePrediction: React.FC = () => {\n    const [predictions, setPredictions] = useState<Prediction | null>(null);\n    const [transaction, setTransaction] = useState<Transaction | null>(null);\n\n    useEffect(() => {\n        const socket = new WebSocket(\"ws://localhost:8000/ws/fraud_detection/\");\n\n        socket.onopen = (event) => {\n            console.log(\"WebSocket connection opened\", event);\n        };\n\n        socket.onmessage = (event) => {\n            console.log(\"WebSocket message received\", event.data);\n            const data = JSON.parse(event.data);\n            if (data.predictions) {\n                setPredictions(data.predictions);\n                setTransaction(data.transaction);\n            }\n        };\n\n        return () => {\n            socket.close();\n        };\n    }, []);\n\n    if (!predictions || !transaction) {\n        return <div>Waiting for predictions...</div>;\n    }\n\n    return (\n        <div>\n            <h2>Real-Time Fraud Detection</h2>\n            <h3>Transaction Details:</h3>\n            <p>Amount: ${transaction.amount.toFixed(2)}</p>\n            <p>Time: {new Date(transaction.time * 1000).toLocaleTimeString()}</p>\n            <h3>Predictions:</h3>\n            <p>Logistic Regression: {predictions.logistic === 1 ? 'Fraud' : 'Not Fraud'}</p>\n            <p>Random Forest: {predictions.random_forest === 1 ? 'Fraud' : 'Not Fraud'}</p>\n            <p>XGBoost: {predictions.xgboost === 1 ? 'Fraud' : 'Not Fraud'}</p>\n        </div>\n    );\n};\n\nexport default RealTimePrediction;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
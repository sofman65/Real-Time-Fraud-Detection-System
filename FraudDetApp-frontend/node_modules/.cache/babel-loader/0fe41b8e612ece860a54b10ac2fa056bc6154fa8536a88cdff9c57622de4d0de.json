{"ast":null,"code":"var _jsxFileName = \"/Users/lsofianos/Documents/proj-FraudDetApp/FraudDetApp-frontend/src/components/RealTimePrediction.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport { Card, CardBody, CardFooter, Typography, Button } from \"@material-tailwind/react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RealTimePrediction = () => {\n  _s();\n  const [predictions, setPredictions] = useState(null);\n  const [transaction, setTransaction] = useState(null);\n  useEffect(() => {\n    const socket = new WebSocket(\"ws://localhost:8000/ws/fraud_detection/\");\n    socket.onmessage = event => {\n      const data = JSON.parse(event.data);\n      setPredictions(data.predictions);\n      setTransaction(data.transaction);\n    };\n    return () => {\n      if (socket.readyState === 1) {\n        socket.close();\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen\",\n    children: transaction && predictions ? /*#__PURE__*/_jsxDEV(Card, {\n      placeholder: \"Loading...\",\n      className: \"w-full max-w-[800px]\",\n      children: [/*#__PURE__*/_jsxDEV(CardBody, {\n        placeholder: \"Loading...\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          placeholder: \"Loading...\",\n          variant: \"h5\",\n          className: \"mb-2 text-blue-700\",\n          children: \"Real-Time Fraud Prediction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          placeholder: \"Loading...\",\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Transaction ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }, this), \" \", transaction.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          placeholder: \"Loading...\",\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Amount:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this), \" $\", transaction.amount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          placeholder: \"Loading...\",\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Time:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this), \" \", transaction.time]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: /*#__PURE__*/_jsxDEV(Line, {\n            data: {\n              labels: [\"Logistic\", \"Random Forest\", \"XGBoost\"],\n              datasets: [{\n                label: \"Fraud Prediction (0 = No Fraud, 1 = Fraud)\",\n                data: [predictions.logistic, predictions.random_forest, predictions.xgboost],\n                backgroundColor: [\"rgba(75, 192, 192, 0.2)\", \"rgba(255, 159, 64, 0.2)\", \"rgba(153, 102, 255, 0.2)\"],\n                borderColor: [\"rgba(75, 192, 192, 1)\", \"rgba(255, 159, 64, 1)\", \"rgba(153, 102, 255, 1)\"],\n                borderWidth: 2\n              }]\n            },\n            options: {\n              scales: {\n                y: {\n                  beginAtZero: true,\n                  ticks: {\n                    stepSize: 1\n                  }\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n        placeholder: \"Loading...\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          placeholder: \"Loading...\",\n          variant: \"gradient\",\n          className: \"bg-blue-500 text-white w-full\",\n          onClick: () => window.location.reload(),\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Card, {\n      placeholder: \"Loading...\",\n      className: \"w-full max-w-[800px]\",\n      children: /*#__PURE__*/_jsxDEV(CardBody, {\n        placeholder: \"Loading...\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          placeholder: \"Loading...\",\n          variant: \"h5\",\n          className: \"mb-2 text-blue-700\",\n          children: \"Waiting for Predictions...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          placeholder: \"Loading...\",\n          className: \"mb-4\",\n          children: \"Waiting for new transaction data to predict fraud...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s(RealTimePrediction, \"dmWNuNVHHoARMdb9AvfTfqGCa28=\");\n_c = RealTimePrediction;\nexport default RealTimePrediction;\nvar _c;\n$RefreshReg$(_c, \"RealTimePrediction\");","map":{"version":3,"names":["React","useEffect","useState","Line","Card","CardBody","CardFooter","Typography","Button","jsxDEV","_jsxDEV","RealTimePrediction","_s","predictions","setPredictions","transaction","setTransaction","socket","WebSocket","onmessage","event","data","JSON","parse","readyState","close","className","children","placeholder","variant","fileName","_jsxFileName","lineNumber","columnNumber","id","amount","time","labels","datasets","label","logistic","random_forest","xgboost","backgroundColor","borderColor","borderWidth","options","scales","y","beginAtZero","ticks","stepSize","onClick","window","location","reload","_c","$RefreshReg$"],"sources":["/Users/lsofianos/Documents/proj-FraudDetApp/FraudDetApp-frontend/src/components/RealTimePrediction.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport {\n    Card,\n    CardBody,\n    CardFooter,\n    Typography,\n    Input,\n    Button,\n} from \"@material-tailwind/react\";\n\ninterface Transaction {\n    id: string;\n    amount: number;\n    time: string;\n}\n\ninterface Predictions {\n    logistic: number;\n    random_forest: number;\n    xgboost: number;\n}\n\nconst RealTimePrediction: React.FC = () => {\n    const [predictions, setPredictions] = useState<Predictions | null>(null);\n    const [transaction, setTransaction] = useState<Transaction | null>(null);\n\n    useEffect(() => {\n        const socket = new WebSocket(\"ws://localhost:8000/ws/fraud_detection/\");\n\n        socket.onmessage = (event) => {\n            const data = JSON.parse(event.data);\n            setPredictions(data.predictions);\n            setTransaction(data.transaction);\n        };\n\n        return () => {\n            if (socket.readyState === 1) {\n                socket.close();\n            }\n        };\n    }, []);\n\n    return (\n        <div className=\"flex justify-center items-center h-screen\">\n            {transaction && predictions ? (\n                <Card placeholder=\"Loading...\"\n                    className=\"w-full max-w-[800px]\">\n                    <CardBody placeholder=\"Loading...\">\n                        <Typography placeholder=\"Loading...\" variant=\"h5\" className=\"mb-2 text-blue-700\">\n                            Real-Time Fraud Prediction\n                        </Typography>\n                        <Typography placeholder=\"Loading...\" className=\"mb-4\">\n                            <strong>Transaction ID:</strong> {transaction.id}\n                        </Typography>\n                        <Typography placeholder=\"Loading...\" className=\"mb-4\">\n                            <strong>Amount:</strong> ${transaction.amount}\n                        </Typography>\n                        <Typography placeholder=\"Loading...\" className=\"mb-4\">\n                            <strong>Time:</strong> {transaction.time}\n                        </Typography>\n\n                        <div className=\"mb-6\">\n                            <Line\n                                data={{\n                                    labels: [\"Logistic\", \"Random Forest\", \"XGBoost\"],\n                                    datasets: [\n                                        {\n                                            label: \"Fraud Prediction (0 = No Fraud, 1 = Fraud)\",\n                                            data: [\n                                                predictions.logistic,\n                                                predictions.random_forest,\n                                                predictions.xgboost,\n                                            ],\n                                            backgroundColor: [\n                                                \"rgba(75, 192, 192, 0.2)\",\n                                                \"rgba(255, 159, 64, 0.2)\",\n                                                \"rgba(153, 102, 255, 0.2)\",\n                                            ],\n                                            borderColor: [\n                                                \"rgba(75, 192, 192, 1)\",\n                                                \"rgba(255, 159, 64, 1)\",\n                                                \"rgba(153, 102, 255, 1)\",\n                                            ],\n                                            borderWidth: 2,\n                                        },\n                                    ],\n                                }}\n                                options={{\n                                    scales: {\n                                        y: {\n                                            beginAtZero: true,\n                                            ticks: {\n                                                stepSize: 1,\n                                            },\n                                        },\n                                    },\n                                }}\n                            />\n                        </div>\n                    </CardBody>\n                    <CardFooter placeholder=\"Loading...\">\n                        <Button\n                            placeholder=\"Loading...\"\n                            variant=\"gradient\"\n                            className=\"bg-blue-500 text-white w-full\"\n                            onClick={() => window.location.reload()}\n                        >\n                            Refresh\n                        </Button>\n                    </CardFooter>\n                </Card>\n            ) : (\n                <Card placeholder=\"Loading...\" className=\"w-full max-w-[800px]\">\n                    <CardBody placeholder=\"Loading...\">\n                        <Typography placeholder=\"Loading...\" variant=\"h5\" className=\"mb-2 text-blue-700\">\n                            Waiting for Predictions...\n                        </Typography>\n                        <Typography placeholder=\"Loading...\" className=\"mb-4\">\n                            Waiting for new transaction data to predict fraud...\n                        </Typography>\n                    </CardBody>\n                </Card>\n            )}\n        </div>\n    );\n};\n\nexport default RealTimePrediction;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}